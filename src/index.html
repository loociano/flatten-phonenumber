<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Phone converter</title>
  <script type="text/javascript" src="converter.js"></script>

</head>
<body>

  <label for="phone-number">Phone Number</label>
  <input type="text" name="phone-number" id="phone-number" />

  <div id="output"></div> 
  <input type="text" id="copy-to-clipboard" style="position:fixed; left:-9999px;" />

  <script type="text/javascript">
    
    var $input = document.getElementById('phone-number');
    var $output = document.getElementById('output');
    var $copy = document.getElementById('copy-to-clipboard');
    
    $input.addEventListener('keyup', function(){
      
      $copy.value = exports.convertPhoneNumber(this.value);

      if ($copy.value.charAt(0) === '+'){
        $output.innerText = 'Copied to clipboard: ' + $copy.value;
        $copy.select();

        try {
          document.execCommand('copy');
        } catch(e){
          console.warn('Problem copying to clipboard');
        }

        $input.focus();
      } else {
        $output.innerText = $copy.value; // Error
      }

    });

  </script>

</body>
</html>

